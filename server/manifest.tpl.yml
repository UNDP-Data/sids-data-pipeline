apiVersion: "2021-07-01"
name: sids-data-server
location: westeurope
properties:
  osType: Linux
  restartPolicy: OnFailure
  containers:
    - name: sids-data-server
      properties:
        environmentVariables: []
        image: undpgeohub.azurecr.io/sids-data-server
        ports:
          - port: 80
        resources:
          requests:
            cpu: 1
            memoryInGB: 1
        volumeMounts:
          - mountPath: /usr/src/app
            name: sids-data
  volumes:
    - name: sids-data
      azureFile:
        sharename: sids-data
        storageAccountName: $AZURE_STORAGE_NAME
        storageAccountKey: $AZURE_STORAGE_KEY
  ipAddress:
    dnsNameLabel: sidsdata
    type: Public
    ports:
      - port: 80
  imageRegistryCredentials:
    - server: undpgeohub.azurecr.io
      username: $AZURE_REGISTRY_USERNAME
      password: $AZURE_REGISTRY_PASSWORD
tags: {}
type: Microsoft.ContainerInstance/containerGroups
